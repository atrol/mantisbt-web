#############################################################################
###                         HOWTO-daily-reports                          ####
#############################################################################

This file details the steps needed to add a simple Developers Daily Report
module to Mantis.  This is useful in small project teams where it's useful to
have a simple group-wide means of communications for status reports, etc.

This is extremely simple and is more of an example or springboard for further
modifications.  I will only give general advice (not code) for requests for
customizations or enhancements.

### Required:

* Mantis 0.15.x or later
* daily_report.tar.gz
  URL: http://mantisbt.sourceforge.net/mods/daily_report.tar.gz
  Contains:

  - daily_delete.php3
  - daily_page.php3
  - daily_report_add.php3
  - daily_report_page.php3

### Setup: We will proceed assuming the following setup:

* Your web root (usually htdocs for apache) is /usr/local/apache/htdocs/
(On a windows box it would look something like this
C:\\apache\\htdocs\\mantis\\ instead.  Adapt to reflect your setup)
* Mantis is installed in /usr/local/apache/htdocs/mantis/

### Steps:

0. Prerequisites
1. Copy the Files
2. Update the Database
3. Add link to the menu
4. Add Daily Report
5. Manage/View

#################################
 Step 0: Prerequisites
#################################

Mantis is installed and running properly.

#################################
 Step 1: Copy the Files
#################################

Install the files by unzipping it to the mantis directory.

On unix use the tar command:

tar zxvf daily_report.tar.gz

On Windows use Winzip or your favorite archiver.

#################################
 Step 2: Update the Database
#################################

We are going to just add a new table to the existing Mantis database.  No
existing data or tables will be affected.

Run this query (either through the command line or using phpMyAdmin):

CREATE TABLE mantis_daily_report_table (
   id int(7) unsigned zerofill DEFAULT '0000000' NOT NULL auto_increment,
   user_id int(7) unsigned zerofill DEFAULT '0000000' NOT NULL,
   hours varchar(5) DEFAULT '0' NOT NULL,
   date_added datetime DEFAULT '0000-00-00 00:00:00' NOT NULL,
   content text NOT NULL,
   PRIMARY KEY (id)
);

#####################################
 Step 3: Add link to the menu
#####################################

Open up menu_inc.php and add the following line (right after summary or
account is fine):

<? if ( access_level_check_greater_or_equal( DEVELOPER ) ) { ?>
	<a href="<? echo $g_path ?>daily_page.php3">Daily Reports </a> |
<? } ?>

You can change DEVELOPER to be higher if needed.

REPORT: You may need to set the absolute path in menu_inc.php for the link.

#################################
 Step 4: Add Daily Report
#################################

Click on the link then click on Report Daily.  You can write down how long you
worked on something and the details.  It also automatically inserts the date.

You can always modify this to your own needs.

For the example, our group used
the daily reports to report what work we had done in regards to issues raised
by the bug tracker.  Since we only met once a week or so this was very useful
fro other members to gauge progress.  It also encourages accountability and
peer pressure ensures that others kept working.

#################################
 Step 5: Manage/View
#################################

To view the entries you just go to the Daily Report link from the menu.

Currently there is a fixed limit of viewing only the last 20 entries.  There
is no mechanism for viewing older entries, however, it should be an easy
addition.  You may want to tweak the SELECT query to grab all entries entered
within the last week or merely increase/decrease the LIMIT.

There is no editing capability.  You can just remove the link and re-add.
Be careful not to remove other people's entries.

###################################
 FINISHED!
###################################

You're now finished adding daily reports to Mantis!

The functionality is pretty raw and hard coded but it should be useful for
small groups.  This should be a good springboard for more modifications.

If you wish to report any errors, comments, or suggestions please send email
to kenito@300baud.org